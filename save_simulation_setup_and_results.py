import eqs_and_variables as ev


def save_simulation_setup_and_results(folder_path, execution_time):
    file_path = f"{folder_path}/used_setup_and_results.txt"
    with open(file_path, "w") as file:
        file.write(f"Run time of simulation: {ev.run_time}\n")
        file.write(f"Execution time of simulation: {execution_time}\n")
        file.write("\n")
        file.write("USED SETUP:\n")
        file.write(f"neuron count per layer: {ev.neuron_count}\n")
        file.write(f"layout of neurons: {ev.ng_row_count} x {ev.ng_column_count}\n")
        file.write(f"layout of receptive fields: {ev.rf_row_count} x {ev.rf_column_count}\n")
        file.write(f"hidden layer count: {ev.layer_count - 1}\n")
        file.write(f"input shape: {ev.input_shape}\n")
        file.write(f"response shape: {ev.response_shape}\n")
        file.write("\n")
        file.write("USED VARIABLES:\n")
        file.write("Explanation about variables are given at the bottom of file.\n")
        file.write("\n")
        file.write(f"Threshold: {ev.threshold} volt\n")
        file.write(f"Beta: {ev.beta}\n")
        file.write(f"Delay: {ev.delay}\n")
        file.write(f"Refractory period: {ev.refractory_period}\n")
        file.write(f"Tau: {ev.tau}\n")
        file.write(f"t_max: {ev.t_max}\n")
        file.write(f"dirac: {ev.dirac}\n")
        file.write(f"fraction: {ev.fraction}\n")
        file.write(f"pool capacity: {ev.pool_capacity}\n")
        file.write(f"Initial weights of synapses: {ev.initial_weights}\n")
        file.write(f"Synaptic transmission probability: {ev.probability}\n")
        file.write(f"Firing rate of active poisson neurons: {ev.firing_rate}\n")
        file.write("\n\n")
        file.write("EXPLANATION ABOUT VARIABLES: \n")
        file.write("Threshold is multiplied by beta for threshold reset.\n")
        file.write("Delay represents how much time after new weights becomes effective after a spike is received.\n")
        file.write("t_max represents dendritic distance between the synapse and the soma.\n")
        file.write("dirac represents axonal propagation time between pre-synaptic neuron and synapse.\n")
        file.write("fraction shows how much of the pool will be given to the synapse which transmitted a spike.\n")
        file.write("pool capacity shows how much weight a neuron has its disposal at the beginning of the simulation.\n")
